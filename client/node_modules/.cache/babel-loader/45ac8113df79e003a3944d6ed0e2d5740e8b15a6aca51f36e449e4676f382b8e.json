{"ast":null,"code":"var _jsxFileName = \"/Users/andyrodriguez/Documents/uchicago/miscellaneous/job/lendbuzz/filmbuzz/client/src/App.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport Modal from 'react-modal';\nimport './App.css';\nimport Error from './components/Error';\nimport Favorites from './components/Favorites';\nimport ModalContent from './components/ModalContent';\nimport Movies from './components/Movies';\nimport Search from './components/Search';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nModal.setAppElement('#root');\nfunction App() {\n  _s();\n  const defaultModal = {\n    show: false,\n    data: {\n      poster_path: null,\n      title: null,\n      release_date: null,\n      overview: null,\n      vote_average: null\n    }\n  };\n  const [error, setError] = useState(false);\n  const [favorites, setFavorites] = useState(localStorage.getItem(\"favorites\") ? JSON.parse(localStorage.getItem(\"favorites\")) : []);\n  const [modal, setModal] = useState(defaultModal);\n  const [movies, setMovies] = useState([]);\n  async function getPopular() {\n    const response = await fetch('http://localhost:3001/movies/popular');\n    if (response.ok) {\n      const data = await response.json();\n      setMovies(data);\n    } else {\n      setError(true);\n    }\n  }\n  ;\n  function handleFavorite(movie) {\n    let newFavorites;\n    if (!favorites.some(element => element.id === movie.id)) {\n      newFavorites = favorites.slice();\n      newFavorites.push(movie);\n    } else {\n      newFavorites = favorites.filter(element => element.id !== movie.id);\n    }\n    setFavorites(newFavorites);\n    localStorage.setItem('favorites', JSON.stringify(newFavorites));\n  }\n  ;\n  function handleDetails(movie) {\n    setModal({\n      show: true,\n      data: movie\n    });\n  }\n  function handleClose() {\n    setModal(defaultModal);\n  }\n  async function handleSearch() {\n    const query = document.querySelector('.query').value;\n    const url = `http://localhost:3001/movies/search?query=${query}`;\n    const response = await fetch(url);\n    if (response.ok) {\n      const data = await response.json();\n      setMovies(data);\n      document.querySelector('.query').value = '';\n    } else {\n      setError(true);\n    }\n  }\n  useEffect(() => {\n    getPopular();\n  }, []);\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Error, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 22\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: modal.show,\n      children: /*#__PURE__*/_jsxDEV(ModalContent, {\n        data: modal.data,\n        handleClose: handleClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Search, {\n      getPopular: getPopular,\n      handleSearch: handleSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Movies, {\n      favorites: favorites,\n      movies: movies,\n      handleDetails: handleDetails,\n      handleFavorite: handleFavorite\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Favorites, {\n      favorites: favorites,\n      movies: favorites,\n      handleDetails: handleDetails,\n      handleFavorite: handleFavorite\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"WfqoBZbuUrwYnv2dvwcBRPyHcLM=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useEffect","useState","Modal","Error","Favorites","ModalContent","Movies","Search","jsxDEV","_jsxDEV","setAppElement","App","_s","defaultModal","show","data","poster_path","title","release_date","overview","vote_average","error","setError","favorites","setFavorites","localStorage","getItem","JSON","parse","modal","setModal","movies","setMovies","getPopular","response","fetch","ok","json","handleFavorite","movie","newFavorites","some","element","id","slice","push","filter","setItem","stringify","handleDetails","handleClose","handleSearch","query","document","querySelector","value","url","fileName","_jsxFileName","lineNumber","columnNumber","className","children","isOpen","_c","$RefreshReg$"],"sources":["/Users/andyrodriguez/Documents/uchicago/miscellaneous/job/lendbuzz/filmbuzz/client/src/App.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport Modal from 'react-modal';\nimport './App.css';\nimport Error from './components/Error';\nimport Favorites from './components/Favorites';\nimport ModalContent from './components/ModalContent';\nimport Movies from './components/Movies';\nimport Search from './components/Search';\n\nModal.setAppElement('#root');\n\nfunction App() {\n  const defaultModal = {show: false, data: {poster_path: null, title: null, release_date: null, overview: null, vote_average: null}};\n\n  const [error, setError] = useState(false);\n  const [favorites, setFavorites] = useState(localStorage.getItem(\"favorites\") ? JSON.parse(localStorage.getItem(\"favorites\")) : []);\n  const [modal, setModal] = useState(defaultModal);\n  const [movies, setMovies] = useState([]);\n  \n  async function getPopular() {\n    const response = await fetch('http://localhost:3001/movies/popular');\n    if (response.ok) {\n      const data = await response.json();\n      setMovies(data);\n    } else {\n      setError(true);\n    }\n  };\n\n  function handleFavorite(movie) {\n    let newFavorites;\n    if (!favorites.some(element => element.id === movie.id)) {\n        newFavorites = favorites.slice();\n        newFavorites.push(movie);\n    } else {\n      newFavorites = favorites.filter(element => element.id !== movie.id);\n    }\n    setFavorites(newFavorites);\n    localStorage.setItem('favorites', JSON.stringify(newFavorites));\n  };\n\n  function handleDetails(movie) {\n      setModal({show: true, data: movie});\n  }\n\n  function handleClose() {\n    setModal(defaultModal);\n  }\n\n  async function handleSearch() {\n    const query = document.querySelector('.query').value;\n    const url = `http://localhost:3001/movies/search?query=${query}`;\n    const response = await fetch(url);\n    if (response.ok) {\n      const data = await response.json();\n      setMovies(data);\n      document.querySelector('.query').value = '';\n    } else {\n      setError(true);\n    }\n  }\n\n  useEffect(() => {\n    getPopular();\n  }, [])\n\n  if (error) {return <Error />}\n\n  return (\n    <div className=\"App\">\n      <Modal isOpen={modal.show}>\n        <ModalContent data={modal.data} handleClose={handleClose} />\n      </Modal>\n      <Search getPopular={getPopular} handleSearch={handleSearch} />\n      <Movies favorites={favorites} movies={movies} handleDetails={handleDetails} handleFavorite={handleFavorite} />\n      <Favorites favorites={favorites} movies={favorites} handleDetails={handleDetails} handleFavorite={handleFavorite} />\n    </div>\n  );\n}\n\nexport default App;"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,KAAK,MAAM,aAAa;AAC/B,OAAO,WAAW;AAClB,OAAOC,KAAK,MAAM,oBAAoB;AACtC,OAAOC,SAAS,MAAM,wBAAwB;AAC9C,OAAOC,YAAY,MAAM,2BAA2B;AACpD,OAAOC,MAAM,MAAM,qBAAqB;AACxC,OAAOC,MAAM,MAAM,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzCP,KAAK,CAACQ,aAAa,CAAC,OAAO,CAAC;AAE5B,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAMC,YAAY,GAAG;IAACC,IAAI,EAAE,KAAK;IAAEC,IAAI,EAAE;MAACC,WAAW,EAAE,IAAI;MAAEC,KAAK,EAAE,IAAI;MAAEC,YAAY,EAAE,IAAI;MAAEC,QAAQ,EAAE,IAAI;MAAEC,YAAY,EAAE;IAAI;EAAC,CAAC;EAElI,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGrB,QAAQ,CAAC,KAAK,CAAC;EACzC,MAAM,CAACsB,SAAS,EAAEC,YAAY,CAAC,GAAGvB,QAAQ,CAACwB,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,GAAGC,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC,GAAG,EAAE,CAAC;EAClI,MAAM,CAACG,KAAK,EAAEC,QAAQ,CAAC,GAAG7B,QAAQ,CAACY,YAAY,CAAC;EAChD,MAAM,CAACkB,MAAM,EAAEC,SAAS,CAAC,GAAG/B,QAAQ,CAAC,EAAE,CAAC;EAExC,eAAegC,UAAUA,CAAA,EAAG;IAC1B,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,sCAAsC,CAAC;IACpE,IAAID,QAAQ,CAACE,EAAE,EAAE;MACf,MAAMrB,IAAI,GAAG,MAAMmB,QAAQ,CAACG,IAAI,CAAC,CAAC;MAClCL,SAAS,CAACjB,IAAI,CAAC;IACjB,CAAC,MAAM;MACLO,QAAQ,CAAC,IAAI,CAAC;IAChB;EACF;EAAC;EAED,SAASgB,cAAcA,CAACC,KAAK,EAAE;IAC7B,IAAIC,YAAY;IAChB,IAAI,CAACjB,SAAS,CAACkB,IAAI,CAACC,OAAO,IAAIA,OAAO,CAACC,EAAE,KAAKJ,KAAK,CAACI,EAAE,CAAC,EAAE;MACrDH,YAAY,GAAGjB,SAAS,CAACqB,KAAK,CAAC,CAAC;MAChCJ,YAAY,CAACK,IAAI,CAACN,KAAK,CAAC;IAC5B,CAAC,MAAM;MACLC,YAAY,GAAGjB,SAAS,CAACuB,MAAM,CAACJ,OAAO,IAAIA,OAAO,CAACC,EAAE,KAAKJ,KAAK,CAACI,EAAE,CAAC;IACrE;IACAnB,YAAY,CAACgB,YAAY,CAAC;IAC1Bf,YAAY,CAACsB,OAAO,CAAC,WAAW,EAAEpB,IAAI,CAACqB,SAAS,CAACR,YAAY,CAAC,CAAC;EACjE;EAAC;EAED,SAASS,aAAaA,CAACV,KAAK,EAAE;IAC1BT,QAAQ,CAAC;MAAChB,IAAI,EAAE,IAAI;MAAEC,IAAI,EAAEwB;IAAK,CAAC,CAAC;EACvC;EAEA,SAASW,WAAWA,CAAA,EAAG;IACrBpB,QAAQ,CAACjB,YAAY,CAAC;EACxB;EAEA,eAAesC,YAAYA,CAAA,EAAG;IAC5B,MAAMC,KAAK,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC,CAACC,KAAK;IACpD,MAAMC,GAAG,GAAI,6CAA4CJ,KAAM,EAAC;IAChE,MAAMlB,QAAQ,GAAG,MAAMC,KAAK,CAACqB,GAAG,CAAC;IACjC,IAAItB,QAAQ,CAACE,EAAE,EAAE;MACf,MAAMrB,IAAI,GAAG,MAAMmB,QAAQ,CAACG,IAAI,CAAC,CAAC;MAClCL,SAAS,CAACjB,IAAI,CAAC;MACfsC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC,CAACC,KAAK,GAAG,EAAE;IAC7C,CAAC,MAAM;MACLjC,QAAQ,CAAC,IAAI,CAAC;IAChB;EACF;EAEAtB,SAAS,CAAC,MAAM;IACdiC,UAAU,CAAC,CAAC;EACd,CAAC,EAAE,EAAE,CAAC;EAEN,IAAIZ,KAAK,EAAE;IAAC,oBAAOZ,OAAA,CAACN,KAAK;MAAAsD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;EAE5B,oBACEnD,OAAA;IAAKoD,SAAS,EAAC,KAAK;IAAAC,QAAA,gBAClBrD,OAAA,CAACP,KAAK;MAAC6D,MAAM,EAAElC,KAAK,CAACf,IAAK;MAAAgD,QAAA,eACxBrD,OAAA,CAACJ,YAAY;QAACU,IAAI,EAAEc,KAAK,CAACd,IAAK;QAACmC,WAAW,EAAEA;MAAY;QAAAO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvD,CAAC,eACRnD,OAAA,CAACF,MAAM;MAAC0B,UAAU,EAAEA,UAAW;MAACkB,YAAY,EAAEA;IAAa;MAAAM,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC9DnD,OAAA,CAACH,MAAM;MAACiB,SAAS,EAAEA,SAAU;MAACQ,MAAM,EAAEA,MAAO;MAACkB,aAAa,EAAEA,aAAc;MAACX,cAAc,EAAEA;IAAe;MAAAmB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC9GnD,OAAA,CAACL,SAAS;MAACmB,SAAS,EAAEA,SAAU;MAACQ,MAAM,EAAER,SAAU;MAAC0B,aAAa,EAAEA,aAAc;MAACX,cAAc,EAAEA;IAAe;MAAAmB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACjH,CAAC;AAEV;AAAChD,EAAA,CAnEQD,GAAG;AAAAqD,EAAA,GAAHrD,GAAG;AAqEZ,eAAeA,GAAG;AAAC,IAAAqD,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}